From 07e8c4ca96a464c520c4f7281e33acc495ffd03b Mon Sep 17 00:00:00 2001
From: Udo-Peter Steyer <ous8292@gmail.com>
Date: Thu, 26 Sep 2024 18:31:30 -0500
Subject: [PATCH] unvendor libsndfile

---
 setup.py     | 11 -----------
 soundfile.py |  5 -----
 2 files changed, 16 deletions(-)

diff --git a/setup.py b/setup.py
index ef99bcc..a3b0e98 100644
--- a/setup.py
+++ b/setup.py
@@ -24,17 +24,6 @@ elif platform == 'linux':
     libname = 'libsndfile_' + architecture0 + '.so'
 else:
     libname = None
-
-if libname and os.path.isdir('_soundfile_data'):
-    packages = ['_soundfile_data']
-    package_data = {'_soundfile_data': [libname, 'COPYING']}
-    zip_safe = False
-else:
-    packages = None
-    package_data = None
-    zip_safe = True
-
-
 class PyTest(TestCommand):
 
     user_options = [('pytest-args=', 'a', "Arguments to pass to py.test")]
diff --git a/soundfile.py b/soundfile.py
index cc13192..9d68249 100644
--- a/soundfile.py
+++ b/soundfile.py
@@ -158,11 +158,6 @@ try:  # packaged lib (in _soundfile_data which should be on python path)
     else:
         raise OSError('no packaged library for this platform')
 
-    import _soundfile_data  # ImportError if this doesn't exist
-    _path = _os.path.dirname(_soundfile_data.__file__)  # TypeError if __file__ is None
-    _full_path = _os.path.join(_path, _packaged_libname)
-    _snd = _ffi.dlopen(_full_path)  # OSError if file doesn't exist or can't be loaded
-
 except (OSError, ImportError, TypeError):
     try:  # system-wide libsndfile:
         _libname = _find_library('sndfile')
-- 
2.39.3 (Apple Git-146)

